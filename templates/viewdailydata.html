{% extends "layout.html" %}

{% block title %}
    Stats Viewer
{% endblock %}

{% block modalheader %}
    Stats Viewer - Help
{% endblock %}

{% block modalbody %}
The average number of guesses reflects your ability to solve daily MHDle puzzles with as little guesses as possible.
<br>
Unsuccessful MHDle solutions are deemed to use 7 guesses.
<br>
The daily streak represents how many consecutive daily MHDle puzzles were you able to solve.

{% endblock %}

{% block main %}
<div id="content" class="container-fluid">
<h5 class="centered">Stats Viewer</h5>
<div id="task" class="centered">
    <div>Total daily MHDles solved: <strong>{{ extra[0] }}</strong></div>
    <div>Global average number of guesses per daily MHDle: <strong>{{ extra[1] }}</strong></div>
    <div>Your average number of guesses per daily MHDle: <strong>{{ extra[2] }}</strong></div>
</div>
<br>
<div id="task" class="centered">
    <div>Your current daily streak: <strong>{{ extra[3] }}</strong></div>
    <div>Your daily streak record: <strong>{{ extra[4] }}</strong></div>
</div>
<br>
<div id="recentroutetable" class="row" style="text-align: center">
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th scope="col">Date</th>
                <th scope="col">Lines</th>
                <th scope="col">Number of Guesses</th>
            </tr>
        </thead>
        <tbody id="dailyroute_tablebody">
            {% for datarow in data %}
                <tr>
                    <th scope="row">{{ datarow["routedate"] }}</th>
                    <td>
                        {% for linenum in datarow["linelist"] %}
                            <img src="/../static/line_icons/line{{ linenum }}.png" alt="Line{{ linenum }}" width='40'>
                        {% endfor %}
                    </td>
                    {% if datarow["number_of_guesses"] == 7 %}
                        <td>Fail</td>
                    {% else %}
                        <td>{{ datarow["number_of_guesses"] }}</td>
                    {% endif %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</div>
{% endblock %}